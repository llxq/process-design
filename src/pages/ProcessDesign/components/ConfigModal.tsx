import { Application } from '@/pages/ProcessDesign/core/Application.ts'import { EdgeType } from '@/pages/ProcessDesign/core/Process/processConfig.ts'import { Form, Modal, Select, Switch } from 'antd'import { useState } from 'react'const ConfigModal = (props: { onSetShowConfigModal: (value: boolean) => void, app: Application }) => {    const [open] = useState(true)    const [form] = Form.useForm()    const [config] = useState(props.app.config.getWriteableConfig)    const save = () => {        props.onSetShowConfigModal(false)        const formData = form.getFieldsValue()        const keys = Reflect.ownKeys(config)        props.app.updateConfig(keys.reduce((result: IObj, key) => {            if (form.isFieldTouched(key)) {                const value = Reflect.get(formData, key)                Reflect.set(result, key, value)            }            return result        }, {} as IObj))    }    const edgeTypeList = Object.values(EdgeType).map(m => ({        value: m,        label: m === EdgeType.BEZIER ? '贝塞尔' : '直线'    }))    return (        <Modal open={ open } title="修改配置" onOk={ save } onCancel={ () => props.onSetShowConfigModal(false) }>            <Form form={ form } initialValues={ config }>                <Form.Item label="边类型" name="edgeType">                    <Select options={ edgeTypeList } />                </Form.Item>                <Form.Item label="是否开启框选功能" name="enableSelectionSelect" tooltip="如果开启了框选功能，则需要按住空格键才可以拖动和滚动画布！">                    <Switch defaultChecked></Switch>                </Form.Item>            </Form>        </Modal>    )}export default ConfigModal